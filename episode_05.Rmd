---
title: "データの部分集合の取得"
output: html_document
editor_options: 
  chunk_output_type: console
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## 問題
- データフレームから特定の行や列を選択するにはどうすればよいでしょうか？
- 複数のコマンドを1つのコマンドに組み合わせるにはどうすればよいでしょうか？
- データフレームから新しい列を作成したり、既存の列を削除したりするにはどうすればよいでしょうか？
- ニーズに合わせてデータフレームを再フォーマットするにはどうすればよいでしょうか？

## 目的
- `dplyr`の`select`関数を使用して、データフレーム内の特定の列を選択します。
- `dplyr`の`filter`関数のフィルタリング条件に従って、データフレーム内の特定の行を選択します。
- 「パイプ」演算子を使用して、`dplyr`関数の出力を別の関数の入力にリンクします。
- `mutate`を使用して、既存の列に何らかの関数を適用した新しい列をデータフレームに追加します。
- `summarize`と`group_by`を使用して、データフレームを観測値(行)のグループ毎に分割し、各グループに要約統計を適用してから、結果を結合します。

## dplyrを身に付ける

前にダウンロードしたgapminder_data.csvを読みこみます。
```{r load-gapminder}
## tidyverseの読みこみ
library(tidyverse)

gapminder <- read_csv("data/gapminder_data.csv")

## データの調査
gapminder

## データのプレビュー
# View(gapminder)
```
最も一般的なdplyr関数のいくつかを身に付けていきましょう。

- `select()`: 部分列の取得
- `filter()`: 条件に基づく部分行の取得
- `mutate()`: 既存列の情報を使用して新しい列を作成
- `group_by()`と`summarize()`: グループ化されたデータの要約統計量を作成
